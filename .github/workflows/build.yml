name: Compile

on: [push]

jobs:
  build-mac:
    runs-on: macOS-latest
    steps:
    - uses: actions/checkout@v1
      with:
        submodule: recursive
    - name: Install boost
      run: brew install boost
    - name: CMake
      run: |
        mkdir -p build
        cd build && cmake ..; cd ..
    - name: Make
      run: make -C build

  build-lin:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v1
      with:
        submodule: recursive
    - name: CMake
      run: |
        mkdir -p build
        cd build && cmake ..; cd ..
    - name: Make
      run: make -C build

  build-win:
    runs-on: windows-latest
    steps:
    - uses: actions/checkout@v1
      with:
        submodule: recursive
    - name: CMake
      run: |
        mkdir -p build
        cd build && cmake ..; cd ..
    - name: Make
      run: make -C build
